---
- hosts: consul
  serial: 1
  gather_facts: true
  vars:
    EncryptionKey: "SomeGeneratedKey"
  tasks:

  - include_role:
      name: ansible-consul
    vars:
      consul:
        version: "1.3.0"
        datacenter: "dc1"
        domain: "contoso"
        server: true
        ui: true
      bootstrap:
        expect: "3"
        addresses:
        - "srv1"
        - "srv2"
        - "srv3"
      encryption:
        enabled: true
        key: "{{ EncryptionKey }}"
